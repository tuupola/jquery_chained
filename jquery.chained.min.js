/*! Chained 0.9.9 - MIT license - Copyright 2010-2013 Mika Tuupola */
(function($,window,document,undefined){"use strict";$.fn.chained=function(parent_selector,options){return this.each(function(index,element){var child=element;var backup=$(child).clone();$(parent_selector).each(function(index,element){$(element).bind("change",function(){updateChildren()});if(!$("option:selected",element).length){$("option",element).first().attr("selected","selected")}updateChildren()});function updateChildren(){var trigger_change=true;var currently_selected_value=$("option:selected",child).val();$(child).html(backup.html());var selected="";$(parent_selector).each(function(){var selectedClass=$("option:selected",this).val();if(selectedClass){if(selected.length>0){if(window.Zepto){selected+="\\\\"}else{selected+="\\"}}selected+=selectedClass}});var first;if($.isArray(parent_selector)){first=$(parent_selector[0]).first()}else{first=$(parent_selector).first()}var selected_first=$("option:selected",first).val();$("option",child).each(function(index,element){var hasprop=false;var isselfirst=false;var e=$(element);if(e.attr("data-chained")){var d=e.data("chained");if(d==selected){hasprop=true}if(d==selected_first){isselfirst=true}}else{if($(element).hasClass(selected)){hasprop=true}if(e.hasClass(selected_first)){isselfirst=true}}if(hasprop&&e.val()===currently_selected_value){e.prop("selected",true);trigger_change=false}else if(!hasprop&&!isselfirst&&e.val()!==""){e.remove()}});if(1===$("option",child).size()&&$(child).val()===""){$(child).attr("disabled","disabled")}else{$(child).removeAttr("disabled")}if(trigger_change){$(child).trigger("change")}}})};$.fn.chainedTo=$.fn.chained;$.fn.chained.defaults={}})(window.jQuery||window.Zepto,window,document);